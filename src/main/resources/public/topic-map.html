<!-- import latest release v
ersion of all components from polygit -->
<link rel="import"
	href="https://polygit.org/components/polymer/polymer.html">

<dom-module id="topic-map"> 
<template>
	<style>
	   #map {
	        width: 250px;
	        height: 80px;
	    }
	</style>
	<h3>Topic Maps</h3>
	
	<div id="map"></div>
	<button on-tap="onLogin">Login</button>
</template> 

<script>
    Polymer({
      is: "topic-map",
	  onLogin: function() {
	    $.ajax({
	        type: "GET",
	        url: "http://localhost:8080/topicmap?user=frederic",
	        dataType: "json",
	        contentType: "application/json",
	    }).then(function(data) {
			var cy = cytoscape({container: document.getElementById('map')});
			for (var i = 0; i<data.topics.length; i++) {
				cy.add({data: {id: 't'+i}})
			};
/* 	        cy.add({
	             data: {
	               id: 'link',
	               source: 't0',
	               target: 't1'
	             }
	        }); */
 			cy.layout({
			    name: 'circle'
			}); 
	    });	    	        
	  }
    });
  </script> 
</dom-module>